<!DOCTYPE html>
<html class="gr__py4e_com" style="height: 100%;"><head><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PY4E - Python for Everybody</title>
        <script async="" src="PY4E%20-%20Python%20for%20Everybody_files/analytics.js"></script><script>
        var _TSUGI = {
            spinnerUrl: "https://www.dr-chuck.net/tsugi-static/img/spinner.gif",
            staticroot: "https://www.dr-chuck.net/tsugi-static",
            window_close_message: "Application complete",
            session_expire_message: "Your session has expired"
        }
        </script>
        <!-- Tiny bit of JS -->
        <script src="PY4E%20-%20Python%20for%20Everybody_files/tsugiscripts_head.js"></script>
        <!-- Le styles -->
        <link href="PY4E%20-%20Python%20for%20Everybody_files/bootstrap.css" rel="stylesheet">
        
        <link href="PY4E%20-%20Python%20for%20Everybody_files/jquery-ui.css" rel="stylesheet">
        <link href="PY4E%20-%20Python%20for%20Everybody_files/font-awesome.css" rel="stylesheet">
        <link href="PY4E%20-%20Python%20for%20Everybody_files/tsugi.css" rel="stylesheet">

    <style>
    body {
      padding-top: 10px;
      padding-bottom: 10px;
    }
    .navbar {
      margin-bottom: 20px;
    }
    .container_iframe {
        margin-left: 10px;
        margin-right: 10px;
}
</style>
<style>
a[target="_blank"]:after {
    font-family: "FontAwesome";
    content: " \f08e";
}
.goog-te-banner-frame.skiptranslate {
    display: none !important;
    }
body {
    top: 0px !important;
    }
</style>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://www.py4e.com/tsugi/vendor/tsugi/lib/static/js/html5shiv/html5shiv.js"></script>
          <script src="https://www.py4e.com/tsugi/vendor/tsugi/lib/static/js/respond/respond.min.js"></script>
        <![endif]-->

    <script type="text/javascript">CSRF_TOKEN = "59d560d881044";</script>
<link type="text/css" rel="stylesheet" charset="UTF-8" href="PY4E%20-%20Python%20for%20Everybody_files/translateelement.css"><script type="text/javascript" charset="UTF-8" src="PY4E%20-%20Python%20for%20Everybody_files/main.js"></script><script type="text/javascript" charset="UTF-8" src="PY4E%20-%20Python%20for%20Everybody_files/element_main.js"></script></head>
<div class="gr-top-z-index gr-top-zero" tabindex="-1"><div data-reactroot="" class="_970ef1-hoverMenu _970ef1-checking" style="transform: translate(1211.5px, 1312.07px);"><div class="_970ef1-panel"><div class="_970ef1-tooltip _970ef1-tooltip_hidden undefined"></div><div class="_970ef1-buttonArea"><div class="_970ef1-btn _970ef1-btn_disable" tabindex="-1"></div></div><div class="_970ef1-line"></div><div class="_970ef1-buttonArea"><div class="_970ef1-btn _970ef1-btn_grammarly" data-action="editor" tabindex="-1"></div></div></div></div></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"><div data-reactroot="" class="_970ef1-hoverMenu _970ef1-checking" style="transform: translate(1280.5px, 1327.07px);"><div class="_970ef1-panel"><div class="_970ef1-tooltip _970ef1-tooltip_hidden undefined"></div><div class="_970ef1-buttonArea"><div class="_970ef1-btn _970ef1-btn_disable" tabindex="-1"></div></div><div class="_970ef1-line"></div><div class="_970ef1-buttonArea"><div class="_970ef1-btn _970ef1-btn_grammarly" data-action="editor" tabindex="-1"></div></div></div></div></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><body prefix="oer: http://oerschema.org" style="padding-top: 70px; position: relative; min-height: 100%; top: 0px;" data-gr-c-s-loaded="true">
<script>
if (window!=window.top) {
    document.write('<div class="container_iframe">');
} else {
    document.write('<div class="container">');
}
</script><div class="container">
<nav class="navbar navbar-default navbar-fixed-top" role="navigation" id="tsugi_main_nav_bar" style="display: block;">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="javascript:window_close();">Done</a>
    </div>
    <div class="navbar-collapse collapse">
    </div> <!--/.nav-collapse -->
  </div> <!--container-fluid -->
</nav>
<script>
if ( false || ! inIframe() ) {
  document.getElementById('tsugi_main_nav_bar').style.display = 'block';
  document.getElementsByTagName('body')[0].style.paddingTop = '70px';
}
</script>
<span style="float: right;"></span><div id="settings" title="Settings" style="display: none;"> <!-- model -->
            <div> <!-- modal-body -->
        <img id="settings_spinner" src="PY4E%20-%20Python%20for%20Everybody_files/spinner.gif" style="display: none">
        <span id="save_fail" style="display:none; color:blue">Unable to save settings</span>
        <p></p>
            <p>Exercise is set to Sum comment data from HTML</p><p>There is currently no due date/time for this assignment.</p>
      </div><!-- / modal-body -->
      <div> <!-- modal-footer -->
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div><!-- / .modal-footer -->
    </div><!-- /.modal -->
<p>Welcome Dingan Chen from SI 206 001 FA 2017</p>
<p>
<!--

If you are having problems with this assignment, give this code to the
instructor:  36346

-->
<b>Scraping Numbers from HTML using BeautifulSoup</b>
In this assignment you will write a Python program similar to
<a href="http://www.py4e.com/code3/urllink2.py" target="_blank">http://www.py4e.com/code3/urllink2.py</a>.
The program will use <b>urllib</b> to read the HTML from the data files below, and parse the data,
extracting numbers and compute the sum of the numbers in the file.
</p>
<p>
We provide two files for this assignment.  One is a sample file where we give you the sum for your
testing and the other is the actual data you need to process for the assignment.
</p><ul>
<li> Sample data: <a href="http://py4e-data.dr-chuck.net/comments_42.html" target="_blank">http://py4e-data.dr-chuck.net/comments_42.html</a>
(Sum=2553) </li>
<li> Actual data: <a href="http://py4e-data.dr-chuck.net/comments_36346.html" target="_blank">http://py4e-data.dr-chuck.net/comments_36346.html</a>
(Sum ends with 21)<br> </li>
</ul>
You do not need to save these files to your folder since your
program will read the data directly from the URL.
<b>Note:</b> Each student will have a distinct data url for the assignment - so only use your
own data url for analysis.
<p></p>
<b>Data Format</b>
<p>
The file is a table of names and comment counts.   You can ignore most of the data in the
file except for lines like the following:
</p><pre>&lt;tr&gt;&lt;td&gt;Modu&lt;/td&gt;&lt;td&gt;&lt;span class="comments"&gt;90&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Kenzie&lt;/td&gt;&lt;td&gt;&lt;span class="comments"&gt;88&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Hubert&lt;/td&gt;&lt;td&gt;&lt;span class="comments"&gt;87&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
</pre>
You are to find all the &lt;span&gt; tags in the file and pull out the numbers from the
tag and sum the numbers.
<p>
Look at the
<a href="http://www.py4e.com/code3/urllink2.py" target="_blank">sample code</a>
provided.  It shows how to find all of a certain kind of tag, loop through the tags and
extract the various aspects of the tags.
</p><pre>...
# Retrieve all of the anchor tags
tags = soup('a')
for tag in tags:
   # Look at the parts of a tag
   print 'TAG:',tag
   print 'URL:',tag.get('href', None)
   print 'Contents:',tag.contents[0]
   print 'Attrs:',tag.attrs
</pre>
You need to adjust this code to look for <b>span</b> tags and pull out
the text content of the span tag, convert them to integers and
add them up to complete the assignment.
<p></p>
<p><b>Sample Execution</b>
</p><p>
</p><pre>$ python3 solution.py
Enter - http://py4e-data.dr-chuck.net/comments_42.html
Count 50
Sum 2...
</pre>
<p></p>

<p><b>Turning in the Assignment</b>
</p><form method="post" style="position: relative;"><input name="PHPSESSID" value="a267612ec6e213ab63346369f8b4f4e9" type="hidden">
Enter the sum from the actual data and your Python code below:<br>
Sum: <input size="20" name="sum" value="2521" type="text">
(ends with 21)
<input value="Submit Assignment" type="submit"><br>
Python code:<br>
<grammarly-ghost spellcheck="false"><div data-reactroot="" data-id="bfde73c5-4e11-1fed-5dc7-0a0fceeb3280" data-gramm_id="bfde73c5-4e11-1fed-5dc7-0a0fceeb3280" data-gramm="gramm" data-gramm_editor="true" class="gr_ver_2" style="position: absolute; color: transparent; overflow: hidden; white-space: pre-wrap; box-sizing: border-box; height: 419px; width: 1026px; z-index: 0; border-width: 2px; border-style: solid; padding: 0px 1px; margin-left: 0px; margin-bottom: 0px; margin-right: 0px; background: rgb(255, 255, 255) none repeat scroll 0% 0%; top: 0px; left: 0px;" contenteditable="true"><span style="display: inline-block; color: transparent; overflow: hidden; text-align: left; float: initial; clear: none; box-sizing: border-box; vertical-align: baseline; white-space: pre-wrap; width: 100%; margin: 0px; padding: 0px 3px 0px 0px; border: 0px none; font-size: 14px; font-family: &quot;Helvetica Neue&quot;,Helvetica,Arial,sans-serif; letter-spacing: normal; text-shadow: none; height: 415px;"><gr_block style="display: inline;" p="0,404">import bs4<br>import requests<br>def sum_nums (htmname):<br>&nbsp;   summ = 0<br>&nbsp;   htmlfile=open(htmname,"r").read()<br>&nbsp;   for ele in bs4.BeautifulSoup(htmlfile).find_all('span',{'class':'comments'}):<br>&nbsp;       summ+=int(ele.text)<br>&nbsp;   return summ<br><br>print('all intergers in the sample has a sum of {}'.format(sum_nums('6ASAMDATA.html')))<br>print('all intergers in the actual has a sum of {}'.format(sum_nums('6AACTDATA.html')))</gr_block></span><br></div></grammarly-ghost><textarea rows="20" style="width: 90%; background: transparent none repeat scroll 0% 0% !important; z-index: auto; position: relative; line-height: 20px; font-size: 14px; transition: none 0s ease 0s ;" name="code" data-gramm="true" data-txt_gramm_id="bfde73c5-4e11-1fed-5dc7-0a0fceeb3280" data-gramm_id="bfde73c5-4e11-1fed-5dc7-0a0fceeb3280" spellcheck="false" data-gramm_editor="true">import bs4
import requests
def sum_nums (htmname):
    summ = 0
    htmlfile=open(htmname,"r").read()
    for ele in bs4.BeautifulSoup(htmlfile).find_all('span',{'class':'comments'}):
        summ+=int(ele.text)
    return summ

print('all intergers in the sample has a sum of {}'.format(sum_nums('6ASAMDATA.html')))
print('all intergers in the actual has a sum of {}'.format(sum_nums('6AACTDATA.html')))</textarea><grammarly-btn><div data-reactroot="" class="_e725ae-textarea_btn _e725ae-show _e725ae-checking _e725ae-field_hovered" style="z-index: 2; transform: translate(994px, 455px);"><div class="_e725ae-transform_wrap"><div title="Protected by Grammarly" class="_e725ae-status">&nbsp;</div></div></div></grammarly-btn><br>
</form>
<script src="PY4E%20-%20Python%20for%20Everybody_files/jquery-1.js"></script>
<script src="PY4E%20-%20Python%20for%20Everybody_files/bootstrap.js"></script>
<script src="PY4E%20-%20Python%20for%20Everybody_files/jquery-ui.js"></script>
<script src="PY4E%20-%20Python%20for%20Everybody_files/handlebars-v4.js"></script>
<script src="PY4E%20-%20Python%20for%20Everybody_files/tmpl.js"></script>
<script src="PY4E%20-%20Python%20for%20Everybody_files/tsugiscripts.js"></script>
    <script type="text/javascript">
    HEARTBEAT_URL = 'https://www.py4e.com/tsugi/vendor/tsugi/lib/util/heartbeat.php?PHPSESSID=a267612ec6e213ab63346369f8b4f4e9';
    HEARTBEAT_INTERVAL = setInterval(doHeartBeat, 1500000);
    tsugiEmbedMenu();
    </script>
    <div id="google_translate_element" style="position: fixed; right: 1em; bottom: 0.25em;"><div class="skiptranslate goog-te-gadget" dir="ltr" style=""><div id=":0.targetLanguage" style="white-space: nowrap;" class="goog-te-gadget-simple"><img src="PY4E%20-%20Python%20for%20Everybody_files/cleardot.gif" class="goog-te-gadget-icon" alt="" style="background-image: url(&quot;https://translate.googleapis.com/translate_static/img/te_ctrl3.gif&quot;); background-position: -65px 0px;"><span style="vertical-align: middle;"><a aria-haspopup="true" class="goog-te-menu-value" href="javascript:void(0)"><span>Select Language</span><img src="PY4E%20-%20Python%20for%20Everybody_files/cleardot.gif" alt="" width="1" height="1"><span style="border-left: 1px solid rgb(187, 187, 187);">​</span><img src="PY4E%20-%20Python%20for%20Everybody_files/cleardot.gif" alt="" width="1" height="1"><span style="color: rgb(118, 118, 118);" aria-hidden="true">▼</span></a></span></div></div></div><script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: "en", layout: google.translate.TranslateElement.InlineLayout.SIMPLE
, gaTrack: true, gaId: "UA-423997-22"
    }, "google_translate_element");
}
</script><script type="text/javascript" src="PY4E%20-%20Python%20for%20Everybody_files/element.js"></script>
            <script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-423997-22', 'auto');
              ga('send', 'pageview');

            </script>
        
</div><script src="PY4E%20-%20Python%20for%20Everybody_files/webcomponents-lite.js"></script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="PY4E%20-%20Python%20for%20Everybody_files/translate_24dp.png" alt="Google Translate" width="20" height="20"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Original text</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Contribute a better translation</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>

<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div><iframe class="goog-te-menu-frame skiptranslate" title="Language Translate Widget" style="visibility: visible; box-sizing: content-box; width: 1022px; height: 273px; display: none;" frameborder="0"></iframe></body><span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span><div><div data-reactroot="" class="gr_-editor gr-iframe-first-load" style="display: none;"><div class="gr_-editor_back"></div><iframe class="gr_-ifr gr-_dialog-content"></iframe></div></div><grammarly-card><div data-reactroot=""></div></grammarly-card></html>